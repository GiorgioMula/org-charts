<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Org Charts: /home/giorgio/Documenti/Progetti/Javascripts/OrgCharts/jsSrc/charts_evo.js File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Org Charts
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('charts__evo_8js.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">charts_evo.js File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Include all methods and classes to write down an formatted org chart, using user file selection. Entry point is <a class="el" href="charts__evo_8js.html#afcdc4ae4da98a9f9da70b83a34362f2b">readSingleFile</a> routine.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adc82a4a9428aa4511fe09ba6115f00a9"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#adc82a4a9428aa4511fe09ba6115f00a9">Person</a> (aName, imgPath, aRole)</td></tr>
<tr class="separator:adc82a4a9428aa4511fe09ba6115f00a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fed5052938937b5b2138fc7126001a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a59fed5052938937b5b2138fc7126001a">PersonMap</a> ()</td></tr>
<tr class="separator:a59fed5052938937b5b2138fc7126001a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed9fe98737ce6724e7aa0073297701c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a2ed9fe98737ce6724e7aa0073297701c">parseCsvLine</a> (textLine, index)</td></tr>
<tr class="separator:a2ed9fe98737ce6724e7aa0073297701c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec40a66dbbd4c2f10132aa23798ce31"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a8ec40a66dbbd4c2f10132aa23798ce31">createHTMLPersonInGroup</a> (person, group, useSmallFormat, installListener)</td></tr>
<tr class="separator:a8ec40a66dbbd4c2f10132aa23798ce31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c981d2c2c94b9eac9ee264554b27c3"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a85c981d2c2c94b9eac9ee264554b27c3">createHTMLGroupInLevel</a> (manager, level)</td></tr>
<tr class="separator:a85c981d2c2c94b9eac9ee264554b27c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3358b93dc2af36f401bb95e8ef86dc44"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a3358b93dc2af36f401bb95e8ef86dc44">createNewLevel</a> ()</td></tr>
<tr class="separator:a3358b93dc2af36f401bb95e8ef86dc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5424ef533f005025597ce7ab238a88c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#af5424ef533f005025597ce7ab238a88c">compilePersonMap</a> (personObj)</td></tr>
<tr class="separator:af5424ef533f005025597ce7ab238a88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eca7663901e28edfa91e8fd49c5c2f4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a3eca7663901e28edfa91e8fd49c5c2f4">writeBranch</a> (employee, levelIdx, useSmallFormat)</td></tr>
<tr class="separator:a3eca7663901e28edfa91e8fd49c5c2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdc4ae4da98a9f9da70b83a34362f2b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#afcdc4ae4da98a9f9da70b83a34362f2b">readSingleFile</a> (e)</td></tr>
<tr class="separator:afcdc4ae4da98a9f9da70b83a34362f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b0d37864dfe4de4eea42e45f72c41f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#aa7b0d37864dfe4de4eea42e45f72c41f">showDetails</a> (event)</td></tr>
<tr class="separator:aa7b0d37864dfe4de4eea42e45f72c41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6a26090b09ae4455615c95f4de9334"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a2f6a26090b09ae4455615c95f4de9334">writeDebug</a> (text, clear)</td></tr>
<tr class="separator:a2f6a26090b09ae4455615c95f4de9334"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a301648b7b565d9d82262c3e84d62d381"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a301648b7b565d9d82262c3e84d62d381">personBuffer</a> = new Object()</td></tr>
<tr class="separator:a301648b7b565d9d82262c3e84d62d381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d0ed5690592e164f618ac12e93e32b"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="charts__evo_8js.html#a67d0ed5690592e164f618ac12e93e32b">dataPath</a></td></tr>
<tr class="separator:a67d0ed5690592e164f618ac12e93e32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Include all methods and classes to write down an formatted org chart, using user file selection. Entry point is <a class="el" href="charts__evo_8js.html#afcdc4ae4da98a9f9da70b83a34362f2b">readSingleFile</a> routine. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af5424ef533f005025597ce7ab238a88c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function compilePersonMap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>personObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given a person buffer object from CSV parsing, must move all elements into personMap object that has parent/child relationship. In that case diagram is a simple recursive iteration starting from root parent element in personMap.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personObj</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>{PersonMap} </dd></dl>

</div>
</div>
<a class="anchor" id="a85c981d2c2c94b9eac9ee264554b27c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function createHTMLGroupInLevel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A group is simply an element to contain employees that share same manager. We reserve here a </p><div> element to which append child "employees"</div><div><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manager</td><td>reference to manager object </td></tr>
    <tr><td class="paramname">level</td><td>the level object this group belongs to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the DOM new element appended to level </dd></dl>
</div>
</div>
</div>
<a class="anchor" id="a8ec40a66dbbd4c2f10132aa23798ce31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function createHTMLPersonInGroup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>person</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>useSmallFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>installListener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attach a new DOM element to parent. The DOM element is a "div" represent the employee with class="person" and id=person's name</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">person</td><td>the person data </td></tr>
    <tr><td class="paramname">group</td><td>the DOM parent node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3358b93dc2af36f401bb95e8ef86dc44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function createNewLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a new </p><div> level to levelNodesArray global array</div><div><dl class="section return"><dt>Returns</dt><dd>reference to <div> element representing an inline-block styled level </div></dd></dl>
</div>
</div>
</div>
<a class="anchor" id="a2ed9fe98737ce6724e7aa0073297701c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function parseCsvLine </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>textLine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse line by line input file content. On first line expect to find the column meanning, so store all data and use to to create related field into person objects dinamically. Mandatory column titles shall be "COGNOME", "NOME", "qualifica", "riporto superiore"</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">textLine</td><td></td></tr>
    <tr><td class="paramname">index</td><td>input line index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adc82a4a9428aa4511fe09ba6115f00a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function Person </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imgPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aRole</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Person class constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aName</td><td></td></tr>
    <tr><td class="paramname">imgPath</td><td></td></tr>
    <tr><td class="paramname">aRole</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>object reference </dd></dl>

</div>
</div>
<a class="anchor" id="a59fed5052938937b5b2138fc7126001a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PersonMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Person map class used to store references to person objects with parent/child relationship. This way it is possible to use recursive functions to pass through the whole map. </p>
<p>Add reference for new person into an object property. The update its manager child list and the pointer to manager itself.</p>

</div>
</div>
<a class="anchor" id="afcdc4ae4da98a9f9da70b83a34362f2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function readSingleFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>chart_evo entry point</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>event object from input file HTML5 selection </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa7b0d37864dfe4de4eea42e45f72c41f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function showDetails </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a new page with employee details, installed with "onclick" event on person HTML</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3eca7663901e28edfa91e8fd49c5c2f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function writeBranch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>employee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>levelIdx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>useSmallFormat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recursive function, write HTML structural code for employee object passed by parameter reference</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">employee</td><td>person object to write HTML code under related level and group </td></tr>
    <tr><td class="paramname">levelIdx</td><td>the level where to append employee information. If a group already exist on same level, then just add the person, otherwise also create the group. </td></tr>
    <tr><td class="paramname">useSmallFormat</td><td>boolean selection, true write person attribute (format="small") so can use a different CSS style </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2f6a26090b09ae4455615c95f4de9334"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function writeDebug </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clear</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print debug information into #debug selector.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>information string to write </td></tr>
    <tr><td class="paramname">clear</td><td>true if #debug element must be cleared </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a67d0ed5690592e164f618ac12e93e32b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var dataPath</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selected file without type extension, can be use to browse on specific picture data </p>

</div>
</div>
<a class="anchor" id="a301648b7b565d9d82262c3e84d62d381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var personBuffer = new Object()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Person object used to store all persons founded in file. Use person name as property in order to quickly search using name as a key </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b4335cd2adeaea01a490e36d82e00fd7.html">jsSrc</a></li><li class="navelem"><a class="el" href="charts__evo_8js.html">charts_evo.js</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
